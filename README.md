# Subscriptions API

## Задание

Задача: спроектировать и реализовать REST-сервис для агрегации данных об онлайн
подписках пользователей.

Требования:
1. Выставить HTTP-ручки для CRUDL-операций над записями о подписках. Каждая
запись содержит:
    1. Название сервиса, предоставляющего подписку
    2. Стоимость месячной подписки в рублях
    3. ID пользователя в формате UUID
    4. Дата начала подписки (месяц и год)
    5. Опционально дата окончания подписки
2. Выставить HTTP-ручку для подсчета суммарной стоимости всех подписок за
выбранный период с фильтрацией по id пользователя и названию подписки
3. СУБД – PostgreSQL. Должны быть миграции для инициализации базы данных
4. Покрыть код логами
5. Вынести конфигурационные данные в .env/.yaml-файл
6. Предоставить swagger-документацию к реализованному API
7. Запуск сервиса с помощью docker compose

### Docker compose

Для запуска docker compose необходимо создать .env файл с переменными окружения как в .env.template

```
docker-compose up
```

### Swagger UI URL

`http://localhost:8080/swagger/index.html`

### Миграции

Миграции запускаются при старте API.

Для миграций использовался `golang-migrate`

```
go install -tags 'postgres' github.com/golang-migrate/migrate/v4/cmd/migrate@latest
```

Запустить миграции:

```
migrate -path migrations -database "postgres://user:pass@localhost:5432/dbname?sslmode=disable" up
```